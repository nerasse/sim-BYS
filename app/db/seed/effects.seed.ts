import { effects } from "../schema";
import { getDb } from "../client";
import { nanoid } from "nanoid";

export async function seedEffects() {
  const db = await getDb();

  const defaultEffects = [
    {
      id: nanoid(),
      name: "score_multiplier",
      displayName: "Multiplicateur de Score",
      description: "Multiplie le score obtenu",
      type: "multiplier",
      category: "passive" as const,
      target: "score",
      defaultValue: 1.5,
      unit: "x",
      icon: "âš¡",
    },
    {
      id: nanoid(),
      name: "money_bonus",
      displayName: "Bonus d'Argent",
      description: "Ajoute de l'argent supplÃ©mentaire",
      type: "additive",
      category: "passive" as const,
      target: "money",
      defaultValue: 10,
      unit: "$",
      icon: "ğŸ’°",
    },
    {
      id: nanoid(),
      name: "symbol_value_increase",
      displayName: "Augmentation Valeur Symbole",
      description: "Augmente la valeur des symboles",
      type: "percentage",
      category: "passive" as const,
      target: "symbols",
      defaultValue: 0.2,
      unit: "%",
      icon: "ğŸ“ˆ",
    },
    {
      id: nanoid(),
      name: "reroll_discount",
      displayName: "RÃ©duction Reroll",
      description: "RÃ©duit le coÃ»t du reroll",
      type: "percentage",
      category: "passive" as const,
      target: "shop",
      defaultValue: 0.5,
      unit: "%",
      icon: "ğŸ”„",
    },
    {
      id: nanoid(),
      name: "combo_multiplier",
      displayName: "Multiplicateur de Combo",
      description: "Augmente le multiplicateur des combos",
      type: "multiplier",
      category: "passive" as const,
      target: "combo",
      defaultValue: 1.3,
      unit: "x",
      icon: "ğŸ¯",
    },
    {
      id: nanoid(),
      name: "extra_spin",
      displayName: "Spin SupplÃ©mentaire",
      description: "Donne un spin gratuit",
      type: "action",
      category: "active" as const,
      target: "spin",
      defaultValue: 1,
      unit: "",
      icon: "ğŸ°",
    },
    {
      id: nanoid(),
      name: "on_boss_defeated",
      displayName: "Ã€ la DÃ©faite du Boss",
      description: "Se dÃ©clenche quand un boss est vaincu",
      type: "trigger",
      category: "trigger" as const,
      target: "boss",
      defaultValue: 1,
      unit: "",
      icon: "ğŸ‘‘",
    },
    {
      id: nanoid(),
      name: "level_reward_boost",
      displayName: "Boost RÃ©compense de Niveau",
      description: "Augmente les rÃ©compenses de niveau",
      type: "percentage",
      category: "passive" as const,
      target: "reward",
      defaultValue: 0.25,
      unit: "%",
      icon: "ğŸ",
    },
    {
      id: nanoid(),
      name: "chance_per_level",
      displayName: "Chance par Niveau",
      description: "Augmente la chance Ã  chaque niveau",
      type: "percentage",
      category: "passive" as const,
      target: "chance",
      defaultValue: 1,
      unit: "%",
      icon: "ğŸ€",
    },
    {
      id: nanoid(),
      name: "starting_dollars_boost",
      displayName: "Boost Dollars de DÃ©part",
      description: "Augmente l'argent de dÃ©part",
      type: "additive",
      category: "passive" as const,
      target: "money",
      defaultValue: 10,
      unit: "$",
      icon: "ğŸ’µ",
    },
    {
      id: nanoid(),
      name: "extra_lives",
      displayName: "Vies SupplÃ©mentaires",
      description: "Ajoute des vies supplÃ©mentaires",
      type: "additive",
      category: "passive" as const,
      target: "lives",
      defaultValue: 1,
      unit: "",
      icon: "â¤ï¸",
    },
  ];

  for (const effect of defaultEffects) {
    await db.insert(effects).values(effect);
  }

  console.log(`âœ… ${defaultEffects.length} effets crÃ©Ã©s`);
}

